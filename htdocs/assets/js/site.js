!function(e){var t={};function n(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(l,o,function(t){return e[t]}.bind(null,o));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementsByTagName("body")[0];function t(e,t){e.classList.add(t)}function n(e,t){e.classList.remove(t)}function l(e,t){window.scrollTo(e,t)}function o(e,t){return document.querySelector(e).getAttribute(t)}function a(l,o){var a=document.getElementById(l);a.classList.contains("js-visible")?(t(a,"js-hidden"),n(a,"js-visible"),n(e,"js-fx")):(n(a,"js-hidden"),t(a,"js-visible"),t(e,"js-fx")),p("content"),o.preventDefault()}function s(e,t,n){(s=document.getElementById(e)).classList.add("sticky"),stickyHeight=s.clientHeight+"px",document.getElementById(t).style.setProperty(n,stickyHeight)}var c,r=localStorage.getItem("theme"),m=document.getElementsByTagName("html")[0];function d(t){t.target!==t.currentTarget&&(channelLink=t.target.dataset.channel,n(e,"js-fx"),u(channelLink),t.preventDefault()),t.stopPropagation()}function u(e){if(""===e){var a=localStorage.getItem("channel");if(null!==a)e=a}document.getElementById("application-loading").classList.remove("js-hidden"),xmlhttp=new XMLHttpRequest,xmlhttp.open("GET","middleware.php?return=content&channel="+e+"&timestamp="+function(){if(null===(e=localStorage.getItem("lastItemTs")))var e=0;return e}(),!0),xmlhttp.send(),xmlhttpChannels=new XMLHttpRequest,xmlhttpChannels.open("GET","middleware.php?return=channels",!0),xmlhttpChannels.send(),xmlhttpChannels.onreadystatechange=function(){4===xmlhttpChannels.readyState&&xmlhttp.readyState&&(outputContainer=document.getElementById("channels"),outputContainer.innerHTML=xmlhttpChannels.response)},overlayContainer=document.getElementById("application-overlay"),t(overlayContainer,"js-hidden"),p("content"),xmlhttp.onreadystatechange=function(){if(4===xmlhttp.readyState&&xmlhttp.readyState){outputContainer=document.getElementById("content"),outputContainer.innerHTML=xmlhttp.response,l(0,0),document.getElementById("application-overlay").classList.remove("js-visible"),document.getElementById("application-loading").classList.add("js-hidden"),n(elementToFix,"js-fixed"),localStorage.setItem("channel",e),lastItemTs=localStorage.getItem("lastItemTs"),window.latestItemTs=o("#feed-items li","data-ts"),setTimeout((function(e){var t=document.querySelectorAll(e);for(i=0;i<t.length;i++)t[i].onclick=function(e){localStorage.setItem("offsetTop",window.pageYOffset),localStorage.setItem("lastItemTs",this.getAttribute("data-ts"))},i==t.length-1&&(window.oldestItemInTimeline=t[i].getAttribute("data-ts"))}("#feed-items li"),void(lastItemTs?null===document.querySelector("#ts-"+lastItemTs)?(g("Not found"),localStorage.setItem("lastItemTs",latestItemTs)):lastItemTs<oldestItemInTimeline?(g("("+o("#ts-"+oldestItemInTimeline,"data-count")+")"),h("#ts-"+oldestItemInTimeline)):latestItemTs>lastItemTs&&(g(o("#ts-"+lastItemTs,"data-count")),h("#ts-"+lastItemTs)):(g("Welcome"),localStorage.setItem("lastItemTs",latestItemTs)))),100)}}}function h(e){l(0,document.querySelector(e).offsetTop-document.getElementById("application-header").clientHeight)}function g(e){badge="#unread-items",badgeValue="#unread-items__count",e>0||"string"==typeof e?(document.querySelector(badge).classList.remove("js-hidden"),document.querySelector(badge).classList.add("js-show"),document.querySelector(badgeValue).innerText=e):(document.querySelector(badge).classList.remove("js-show"),document.querySelector(badge).classList.add("js-hide"))}function p(e){elementToFix=document.getElementById(e),scrollY=window.pageYOffset,elementToFix.classList.contains("js-fixed")?(n(elementToFix,"js-fixed"),elementToFix.style.top="",l(0,scrollYMem)):(t(elementToFix,"js-fixed"),elementToFix.style.top="-"+scrollY+"px",scrollYMem=scrollY)}null!==r&&(n(m,"light"),n(m,"dark"),t(m,r),"light"===r&&(document.getElementById("theme-switcher").checked=!1),"dark"===r&&(document.getElementById("theme-switcher").checked=!0)),window.addEventListener("scroll",(function(e){scrollDepth=window.pageYOffset,scrollDepth<=0&&(g(),localStorage.setItem("lastItemTs",latestItemTs))})),t(document.getElementsByTagName("body")[0],"js"),u(""),s("application-header","content","margin-top"),function(e){var l=document.getElementsByTagName("html")[0];switchingElement=document.getElementById(e),switchingElement.onclick=function(){xmlhttp=new XMLHttpRequest,this.checked?(t(l,"dark"),n(l,"light"),xmlhttp.open("GET","themeswitch.php?theme=dark",!0),xmlhttp.send(),localStorage.setItem("theme","dark"),console.log("localStorage Theme is: dark")):(t(l,"light"),n(l,"dark"),xmlhttp.open("GET","themeswitch.php?theme=light",!0),xmlhttp.send(),localStorage.setItem("theme","light"),console.log("localStorage Theme is: light"))}}("theme-switcher"),function(e){var t=document.getElementsByClassName(e);for(i=0;i<t.length;i++)t[i].onclick=function(e){a(this.getAttribute("data-target"),e)}}("js-overlay-toggle"),c="application-overlay",overlayElement=document.getElementById(c),overlayElement.style.top=stickyHeight,function(e){elementContainer=document.getElementById(e),elementContainer.addEventListener("click",d,!1)}("channels")}))}]);