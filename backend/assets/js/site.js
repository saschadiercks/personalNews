!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementsByTagName("body")[0];function t(e,t){e.classList.add(t)}function n(e,t){e.classList.remove(t)}function o(e,t){window.scrollTo(e,t)}function l(e,t){return document.querySelector(e).getAttribute(t)}function s(o,l){var i=document.getElementById(o);i.classList.contains("js-visible")?(t(i,"js-hidden"),n(i,"js-visible"),n(e,"js-fx")):(n(i,"js-hidden"),t(i,"js-visible"),t(e,"js-fx")),p("content"),l.preventDefault()}function a(e,t,n){(a=document.getElementById(e)).classList.add("sticky"),stickyHeight=a.clientHeight+"px",document.getElementById(t).style.setProperty(n,stickyHeight)}var c,r=localStorage.getItem("theme"),m=document.getElementsByTagName("html")[0];function d(t){t.target!==t.currentTarget&&(channelLink=t.target.dataset.channel,n(e,"js-fx"),u(channelLink),t.preventDefault()),t.stopPropagation()}function u(e){if(""===e){var s=localStorage.getItem("channel");if(null!==s)e=s}document.getElementById("application-loading").classList.remove("js-hidden"),renderFile="middleware.php?return=content",xmlhttp=new XMLHttpRequest,xmlhttp.open("GET",renderFile+"&channel="+e+"&timestamp="+lastItemTs,!0),xmlhttp.send(),overlayContainer=document.getElementById("application-overlay"),t(overlayContainer,"js-hidden"),p("content"),xmlhttp.onreadystatechange=function(){if(4===xmlhttp.readyState&&xmlhttp.readyState){outputContainer=document.getElementById("content"),outputContainer.innerHTML=xmlhttp.response,o(0,0),document.getElementById("application-overlay").classList.remove("js-visible"),document.getElementById("application-loading").classList.add("js-hidden"),n(elementToFix,"js-fixed"),localStorage.setItem("channel",e),lastItemTs=localStorage.getItem("lastItemTs"),window.latestItemTs=l("#feed-items li","data-ts"),setTimeout((function(e){var t=document.querySelectorAll(e);for(i=0;i<t.length;i++)t[i].onclick=function(e){localStorage.setItem("offsetTop",window.pageYOffset),localStorage.setItem("lastItemTs",this.getAttribute("data-ts"))},i==t.length-1&&(window.oldestItemInTimeline=t[i].getAttribute("data-ts"))}("#feed-items li"),void(lastItemTs?null===document.querySelector("#ts-"+lastItemTs)?(h("Not found"),localStorage.setItem("lastItemTs",latestItemTs)):lastItemTs<oldestItemInTimeline?(h("("+l("#ts-"+oldestItemInTimeline,"data-count")+")"),g("#ts-"+oldestItemInTimeline)):latestItemTs>lastItemTs&&(h(l("#ts-"+lastItemTs,"data-count")),g("#ts-"+lastItemTs)):(h("Welcome"),localStorage.setItem("lastItemTs",latestItemTs)))),100)}}}function g(e){o(0,document.querySelector(e).offsetTop-document.getElementById("application-header").clientHeight)}function h(e){badge="#unread-items",badgeValue="#unread-items__count",e>0||"string"==typeof e?(document.querySelector(badge).classList.remove("js-hidden"),document.querySelector(badge).classList.add("js-show"),document.querySelector(badgeValue).innerText=e):(document.querySelector(badge).classList.remove("js-show"),document.querySelector(badge).classList.add("js-hide"))}function p(e){elementToFix=document.getElementById(e),scrollY=window.pageYOffset,elementToFix.classList.contains("js-fixed")?(n(elementToFix,"js-fixed"),elementToFix.style.top="",o(0,scrollYMem)):(t(elementToFix,"js-fixed"),elementToFix.style.top="-"+scrollY+"px",scrollYMem=scrollY)}null!==r&&(n(m,"light"),n(m,"dark"),t(m,r),"light"===r&&(document.getElementById("theme-switcher").checked=!1),"dark"===r&&(document.getElementById("theme-switcher").checked=!0)),window.addEventListener("scroll",(function(e){scrollDepth=window.pageYOffset,scrollDepth<=0&&(h(),localStorage.setItem("lastItemTs",latestItemTs))})),t(document.getElementsByTagName("body")[0],"js"),u(""),a("application-header","content","margin-top"),function(e){var o=document.getElementsByTagName("html")[0];switchingElement=document.getElementById(e),switchingElement.onclick=function(){xmlhttp=new XMLHttpRequest,this.checked?(t(o,"dark"),n(o,"light"),xmlhttp.open("GET","themeswitch.php?theme=dark",!0),xmlhttp.send(),localStorage.setItem("theme","dark"),console.log("localStorage Theme is: dark")):(t(o,"light"),n(o,"dark"),xmlhttp.open("GET","themeswitch.php?theme=light",!0),xmlhttp.send(),localStorage.setItem("theme","light"),console.log("localStorage Theme is: light"))}}("theme-switcher"),function(e){var t=document.getElementsByClassName(e);for(i=0;i<t.length;i++)t[i].onclick=function(e){s(this.getAttribute("data-target"),e)}}("js-overlay-toggle"),c="application-overlay",overlayElement=document.getElementById(c),overlayElement.style.top=stickyHeight,function(e){elementContainer=document.getElementById(e),elementContainer.addEventListener("click",d,!1)}("channels")}))}]);